import{j as t,L as d}from"./chunk-K6AXKMTT-ChX_KrkW.js";import{I as v}from"./index-B4THt2LL.js";import{I as x}from"./index-UhW51zFs.js";import{M as p}from"./index-ZLGzfARi.js";import{i as o}from"./tyoes-CgVAvb21.js";import{f as m}from"./utils-CNFb9ZM6.js";import{t as f}from"./bundle-mjs-D696Ktp4.js";import{u}from"./useCustomFetcher-GDegCx-T.js";const I=({cardData:e})=>{o(e);const i=[{id:1,lable:"Rate it!",icon:v,isActive:!1},{id:2,lable:"Favorite",icon:p,isActive:e.isFavourite||!1},{id:3,lable:"Add to watchlist",icon:x,isActive:e.isWatchListed||!1}];return t.jsxs("div",{className:"mx-auto h-60 w-full max-w-[1350px] overflow-hidden rounded-lg border",children:[t.jsxs("div",{className:"flex h-full w-full items-center justify-start gap-4 overflow-hidden max-md:h-[60%] max-md:border-b",children:[t.jsx(b,{cardData:e}),t.jsxs("div",{children:[t.jsx(j,{cardData:e}),t.jsx("div",{className:"mt-4 max-md:hidden",children:t.jsx(n,{cardData:e,actionButton:i})})]})]},"poster_detail"),t.jsx("div",{className:"h-[40%] md:hidden",children:t.jsx(n,{cardData:e,actionButton:i})})]})},j=({cardData:e})=>{const i=o(e);return t.jsxs(t.Fragment,{children:[t.jsx(d,{viewTransition:!0,to:`/${i?"movie":"tv"}/${e.id}-${i?`${e.title.replaceAll(" ","-")}`:`${e.name.replaceAll(" ","-")}`}`,className:"font-semibold hover:text-[#01b4e4]",children:i?e.title:e.name}),t.jsx("div",{className:"text-[0.80rem] text-gray-500",children:i?m(e.release_date):m(e.first_air_date)}),t.jsx("p",{className:"mt-4 line-clamp-2 text-[0.80rem] ",children:e.overview})]})},b=({cardData:e})=>{const i=o(e);return t.jsx(d,{to:`/${i?"movie":"tv"}/${e.id}-${i?`${e.title.replaceAll(" ","-")}`:`${e.name.replaceAll(" ","-")}`}`,className:"h-full w-24 flex-none  md:w-36",children:t.jsx("img",{loading:"lazy",className:"poster h-full w-full object-cover  object-center",src:`https://media.themoviedb.org/t/p/w130_and_h195_bestv2/${e.poster_path}`,srcSet:`https://media.themoviedb.org/t/p/w130_and_h195_bestv2/${e.poster_path} 1x, https://media.themoviedb.org/t/p/w260_and_h390_bestv2/${e.poster_path} 2x`,alt:i?e.title:e.name})})},n=({cardData:e,actionButton:i})=>{const l=o(e),{fetcher:r,data:w,fetcherState:a}=u(void 0),c=()=>{const s={"x-type":"favorite",media_type:l?"movie":"tv",media_id:e.id,favorite:!e.isFavourite};r.submit(s,{action:"/api/remote/action",method:"POST"})},h=()=>{const s={"x-type":"watchlist",media_type:l?"movie":"tv",media_id:e.id,watchlist:!e.isWatchListed};r.submit(s,{action:"/api/remote/action",method:"POST"})};return t.jsx("div",{className:"h-full w-full grid-cols-2 py-2 max-md:grid max-md:content-between max-md:justify-between max-md:px-3 md:flex md:gap-3",children:i.map(s=>t.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[t.jsx("div",{className:f("flex h-8 w-8 items-center justify-center rounded-full border border-gray-300",s.isActive&&"bg-gray-500 text-white","cursor-pointer"),onClick:()=>{a=="idle"&&(s.id==2?c():s.id==3&&h())},children:t.jsx(s.icon,{})}),s.lable," ",s.isActive]},s.id))},"actions")};export{I as P};
