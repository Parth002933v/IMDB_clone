import{w as f}from"./with-props-BwqmSWsg.js";import{j as e,r as c,N as p,O as b,F as j}from"./chunk-K6AXKMTT-ChX_KrkW.js";import{a as g}from"./index-UhW51zFs.js";import{a as y}from"./index-B4THt2LL.js";import{a as N}from"./utils-CNFb9ZM6.js";import{t as d}from"./bundle-mjs-D696Ktp4.js";import"./tyoes-CgVAvb21.js";const w=({loaderData:s,params:o,matches:r})=>{if(s==null||s.medialCounts.length<1)return e.jsx(e.Fragment,{children:"No data found"});const t=r[2].pathname=="/search/",[a,i]=c.useState(s.query),{searchedMovies:x,searchedTVShows:h,searchedPersons:u}=s.data;return e.jsxs("div",{className:"h-max w-full",children:[e.jsx("div",{className:"",children:e.jsx(v,{input:a,setInput:i})}),e.jsxs("div",{className:"md:mx-auto md:flex md:max-w-[1350px] md:justify-center md:pt-5",children:[e.jsxs("div",{className:"h-full overflow-hidden md:mr-4 md:mt-5 md:w-64 md:rounded-lg md:border",children:[e.jsx("div",{className:"sticky flex h-12 w-full items-center bg-[#01b4e4] px-5 font-semibold text-white md:h-16",children:"Search Results"}),e.jsx("div",{className:"flex w-full overflow-x-auto max-md:h-12 md:flex-col md:py-4",children:s.medialCounts.map((l,m)=>e.jsx(p,{to:`${l}?query=${a}`,className:"flex",children:({isActive:n,isPending:S,isTransitioning:C})=>e.jsxs("div",{className:d("flex gap-1.5 px-5 py-3 md:w-full md:justify-between md:hover:bg-gray-100",t&&m==0&&"md:bg-gray-100",!t&&n&&"md:bg-gray-100"),children:[e.jsx("span",{className:d("whitespace-nowrap text-sm max-md:font-semibold",t&&m==0&&"max-md:text-[#01b4e4] md:font-semibold",!t&&n&&"max-md:text-[#01b4e4] md:font-semibold"),children:N(l)}),e.jsx("div",{className:d("flex items-center rounded-md border px-1.5 py-0 text-center text-xs font-light",t&&m==0&&"max-md:border-[#01b4e4] md:font-semibold",!t&&n&&"max-md:border-[#01b4e4] md:font-semibold"),children:(()=>{switch(l){case"movie":return e.jsx(e.Fragment,{children:x.total_results});case"tv":return e.jsx(e.Fragment,{children:h.total_results});case"person":return e.jsx(e.Fragment,{children:u.total_results})}})()})]})},m))})]}),e.jsx("hr",{className:"h-1 md:hidden"}),e.jsx("div",{className:"mt-5 flex-1 space-y-4 px-5 pb-5",children:e.jsx(b,{context:{data:s.data,mediaType:s.medialCounts}})})]})]})},I=f(w),v=({setInput:s,input:o})=>{const r=c.useRef(null),t=()=>{r.current&&(r.current.value="",r.current.focus())};return e.jsxs(j,{action:"#",method:"GET",className:"flex h-12 w-full items-center gap-3 px-5 md:border-b",children:[e.jsx(g,{className:"h-4 w-4"}),e.jsx("input",{ref:r,name:"query",value:o,onChange:a=>s(a.target.value),className:"h-full flex-1 font-semibold text-gray-500 outline-none placeholder:text-sm placeholder:italic",placeholder:"Serach"}),e.jsx("button",{onClick:t,type:"button",className:"p-1 active:bg-gray-500/10",children:e.jsx(y,{className:"font-bold text-gray-600"})})]})};export{I as default};
